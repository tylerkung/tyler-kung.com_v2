<div class="list">
    <div v-for="(item, index) in gallery" class="list-item" :class="{'featured': index < 2}">
        <div class="l-item-img">
            <a :href="item['link']">
                <img :src="item['image-1']"/>
            </a>
        </div>
        <div class="l-item-content">
            <div class="l-item-col">
                <h2>${item['title']}</h2>
                <h3>${item['headline']}</h3>
                <div class="tags-container" v-if="item['tags']">
                    <div class="tags">
                        ${item['tags']}
                    </div>
                    <div class="dates" v-if="item['date']">
                        ${item['date']}
                    </div>
                </div>
            </div>
            <div class="l-item-col" v-if="index < 2">
                <div class="description">
                    <p class="description-content">${item['description']}</p>
                    <div class="cta">
                        <a :href="item['link']">
                            <div class="btn btn-default">
                                ${item['link-name']}
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="module">
{{#if data-url}}
import data from '{{data-url}}'
{{else}}
import data from '/data/data.js';
{{/if}}

var listApp = new Vue({
    delimiters: ['${', '}'],
    el: '.list',
    data: {
    },
    computed: {
        featured: function(){
            {{#if featured}}
            return {{featured}};
            {{/if}}
            return false;
        },
        gallery: function(){
            if (this.featured){
                return data.data.slice(0, 4);
            } else{
                return data.data;
            }
        }
    },
    methods: {
    }
})
</script>
